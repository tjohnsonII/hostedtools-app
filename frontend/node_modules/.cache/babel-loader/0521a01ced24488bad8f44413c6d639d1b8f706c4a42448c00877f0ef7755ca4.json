{"ast":null,"code":"import React,{useState}from'react';import'../css/navigationbar.css';import*as XLSX from'xlsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderTracker=()=>{const[columns,setColumns]=useState([]);const[rows,setRows]=useState([]);const handleFileUpload=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;const reader=new FileReader();reader.onload=evt=>{var _evt$target;const data=new Uint8Array((_evt$target=evt.target)===null||_evt$target===void 0?void 0:_evt$target.result);const workbook=XLSX.read(data,{type:'array'});const sheetName=workbook.SheetNames[0];const worksheet=workbook.Sheets[sheetName];const json=XLSX.utils.sheet_to_json(worksheet,{defval:''});if(json.length>0){setColumns(Object.keys(json[0]));setRows(json);}};reader.readAsArrayBuffer(file);};const handleCellChange=(rowIdx,col,value)=>{const updatedRows=rows.map((row,idx)=>idx===rowIdx?{...row,[col]:value}:row);setRows(updatedRows);};const addRow=()=>setRows([...rows,Object.fromEntries(columns.map(c=>[c,'']))]);const removeRow=idx=>setRows(rows.filter((_,i)=>i!==idx));return/*#__PURE__*/_jsxs(\"div\",{className:\"order-tracker\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Tracker\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"order-file-upload\",children:\"Upload .xlsx file:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"order-file-upload\",type:\"file\",accept:\".xls,.xlsx,.xlsm\",onChange:handleFileUpload,title:\"Upload Order Tracking spreadsheet\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"order-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col},col)),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows.map((row,rowIdx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:row[col]||'',onChange:e=>handleCellChange(rowIdx,col,e.target.value),placeholder:col,title:col})},col)),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeRow(rowIdx),disabled:rows.length===1,children:\"-\"})})]},rowIdx))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addRow,children:\"Add Row\"})]});};export default OrderTracker;","map":{"version":3,"names":["React","useState","XLSX","jsx","_jsx","jsxs","_jsxs","OrderTracker","columns","setColumns","rows","setRows","handleFileUpload","e","_e$target$files","file","target","files","reader","FileReader","onload","evt","_evt$target","data","Uint8Array","result","workbook","read","type","sheetName","SheetNames","worksheet","Sheets","json","utils","sheet_to_json","defval","length","Object","keys","readAsArrayBuffer","handleCellChange","rowIdx","col","value","updatedRows","map","row","idx","addRow","fromEntries","c","removeRow","filter","_","i","className","children","htmlFor","id","accept","onChange","title","placeholder","onClick","disabled"],"sources":["/home/tim2/hostedtools-app/frontend/src/pages/OrderTracker.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport '../css/navigationbar.css';\nimport * as XLSX from 'xlsx';\n\nconst OrderTracker: React.FC = () => {\n  const [columns, setColumns] = useState<string[]>([]);\n  const [rows, setRows] = useState<Array<Record<string, string>>>([]);\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = (evt) => {\n      const data = new Uint8Array(evt.target?.result as ArrayBuffer);\n      const workbook = XLSX.read(data, { type: 'array' });\n      const sheetName = workbook.SheetNames[0];\n      const worksheet = workbook.Sheets[sheetName];\n      const json = XLSX.utils.sheet_to_json<Record<string, string>>(worksheet, { defval: '' });\n      if (json.length > 0) {\n        setColumns(Object.keys(json[0]));\n        setRows(json);\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n\n  const handleCellChange = (rowIdx: number, col: string, value: string) => {\n    const updatedRows = rows.map((row, idx) =>\n      idx === rowIdx ? { ...row, [col]: value } : row\n    );\n    setRows(updatedRows);\n  };\n\n  const addRow = () => setRows([...rows, Object.fromEntries(columns.map(c => [c, '']))]);\n  const removeRow = (idx: number) => setRows(rows.filter((_, i) => i !== idx));\n\n  return (\n    <div className=\"order-tracker\">\n      <h2>Order Tracker</h2>\n      <label htmlFor=\"order-file-upload\">Upload .xlsx file:</label>\n      <input\n        id=\"order-file-upload\"\n        type=\"file\"\n        accept=\".xls,.xlsx,.xlsm\"\n        onChange={handleFileUpload}\n        title=\"Upload Order Tracking spreadsheet\"\n      />\n      <table className=\"order-table\">\n        <thead>\n          <tr>\n            {columns.map(col => <th key={col}>{col}</th>)}\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((row, rowIdx) => (\n            <tr key={rowIdx}>\n              {columns.map(col => (\n                <td key={col}>\n                  <input\n                    type=\"text\"\n                    value={row[col] || ''}\n                    onChange={e => handleCellChange(rowIdx, col, e.target.value)}\n                    placeholder={col}\n                    title={col}\n                  />\n                </td>\n              ))}\n              <td>\n                <button onClick={() => removeRow(rowIdx)} disabled={rows.length === 1}>-</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <button onClick={addRow}>Add Row</button>\n    </div>\n  );\n};\n\nexport default OrderTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}